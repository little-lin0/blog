<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>index</title>
    <!-- layui.css		-->
    <link rel="stylesheet" type="text/css" href="lib/layui-v2.6.3/css/layui.css">

    <!-- css include -->
    <link rel="stylesheet" type="text/css" href="css/materialize.css">
    <link rel="stylesheet" type="text/css" href="css/icofont.css">
    <link rel="stylesheet" type="text/css" href="css/owl.carousel.min.css">
    <link rel="stylesheet" type="text/css" href="css/owl.theme.default.min.css">

    <!-- my css include -->
    <link rel="stylesheet" type="text/css" href="css/custom-menu.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/responsive.css">
    <link rel="stylesheet" type="text/css" href="css/extra.css">

</head>


<body>


<div class="thetop"></div>
<!-- for back to top -->

<div class='backToTop'>
    <a href="#" class='scroll'>
        <span>T</span>
        <span>O</span>
        <span>P</span>
        <span class="go-up">
					<i class="icofont icofont-long-arrow-up"></i>
				</span>
    </a>
</div>
<!-- backToTop -->



<!-- ==================== header-section Start ==================== -->
<header id="header-section" class="header-section w100dt navbar-fixed">

    <nav class="nav-extended main-nav">
        <div class="container">
            <div class="row">
                <div class="nav-wrapper w100dt">

                    <div class="logo left">
                        <a href="index.html" class="brand-logo">
                            <img src="img/kir.png"  alt="brand-logo">
                        </a>
                    </div>
                    <!-- logo -->

                    <div>
                        <a href="#" data-activates="mobile-demo" class="button-collapse">
                            <i class="icofont icofont-navigation-menu"></i>
                        </a>
                        <ul id="nav-mobile" class="main-menu center-align hide-on-med-and-down">
                            <li class="active"><a href="index.html">HOME</a></li>
                            <li><a href="cateogry.html">CATEGORIES</a></li>
                            <li><a href="about.html">ABOUT</a></li>
                            <li><a href="contact.html">CONTACT</a></li>
                            <li class="dropdown userSwitch">
                                <a href="login.html" id="user"></a>
                                <ul class="dropdown-container">
                                    <li><a href="swithUser">切换用户</a></li>
                                    <li><a href="/logout">退出</a></li>
                                </ul>
                            </li>
                        </ul>
                        <!-- /.main-menu -->

                        <!-- ******************** sidebar-menu ******************** -->
                        <ul class="side-nav" id="mobile-demo">
                            <li class="snavlogo center-align"><img src="img/kir.png" alt="logo"></li>
                            <li class="active"><a href="index.html">HOME</a></li>
                            <li><a href="cateogry.html">CATEGORIES</a></li>
                            <li><a href="about.html">ABOUT</a></li>
                            <li><a href="contact.html">CONTACT</a></li>
                            <li><a href="single-blog.html.html" style="display: none" id="person">我的主页</a></li>

                        </ul>
                    </div>
                    <!-- main-menu -->

                    <a href="#" class="search-trigger right">
                        <i class="icofont icofont-search" style="font-size: 18px;"></i>
                    </a>
                    <a href="writeblog.html" class="writeBlog right" title="写博客">
                        <i class="layui-icon layui-icon-add-circle" style="font-size: 30px; color: #000000;"></i>
                    </a>
                    <!-- search -->
                    <div id="myNav" class="overlay">
                        <a href="javascript:void(0)" class="closebtn">&times;</a>
                        <div class="overlay-content">
                            <form action="search.html" method="get">
                                <input type="text" name="key" placeholder="Search...">
                                <br>
                                <button class="waves-effect waves-light" type="submit" >Search</button>
                            </form>
                        </div>
                    </div>

                </div>
                <!-- /.nav-wrapper -->
            </div>
            <!-- row -->
        </div>
        <!-- container -->
    </nav>

</header>
<!-- /#header-section -->
<!-- ==================== header-section End ==================== -->


<!-- ==================== blog-slider-section start ==================== -->
<section id="blog-slider-section" class="blog-slider-section w100dt mb-50">
    <div class="container">

        <div class="slider">
            <ul class="slides" >
                <li class="slider-item">
                    <img src="img/travel.jpg" alt="Image">
                    <div class="caption center-align">
                        <a href="#" class="tag l-blue w100dt mb-30">Life</a>
                        <h1 class="card-title mb-10">
                           分享你的生活
                        </h1>
                        <p>
                            请你相信：无论如何，生活是合理的。凡是使你集中向上的情感都是纯洁的。
                            &nbsp;&nbsp;&nbsp;&nbsp;   ——里尔克《给青年诗人的信》
                        </p>
                        <a href="#article" class="custom-btn waves-effect waves-light">去看看</a>
                    </div>
                </li>
                <li class="slider-item">
                    <img src="img/lifestyle.jpg" alt="Image">
                    <div class="caption left-align">
                        <a href="#" class="tag l-blue w100dt mb-30">Knowledge</a>
                        <h1 class="card-title mb-10">
                            分享你的知识
                        </h1>
                        <p>
                            读书不是为了雄辩和驳斥，也不是为了轻信和盲从，而是为了思考和权衡。
                            &nbsp;&nbsp;&nbsp;&nbsp; ——费朗西斯 • 培根
                        </p>
                        <a href="#article" class="custom-btn waves-effect waves-light">去看看</a>
                    </div>
                </li>
                <li class="slider-item">
                    <img src="img/fashion.jpg" alt="Image">
                    <div class="caption right-align">
                        <a href="#" class="tag l-blue w100dt mb-30">Secret</a>
                        <h1 class="card-title mb-10">
                                  分享你的秘密
                        </h1>
                        <p>
                            人们宁愿去关心一个蹩脚电影演员的吃喝拉撒和鸡毛蒜皮，而不愿了解普通人波涛汹涌的内心世界。
                            &nbsp;&nbsp;&nbsp;&nbsp;——路遥
                        </p>
                        <a href="#article" class="custom-btn waves-effect waves-light">去看看</a>
                    </div>
                </li>
            </ul>
        </div>

    </div>
    <!-- container -->
</section>
<!-- /#blog-slider-section -->
<!-- ==================== blog-slider-section end ==================== -->




<!-- ==================== blog-section start ==================== -->
<section id="blog-section" class="blog-section w100dt mb-50">
    <div class="container">
        <div class="row">
            <!--博文-->
            <div class="col s12 m8 l8">
                <div id="article"></div>

                <div id="pagination"></div>
            </div>

            <!-- colm8 -->
            <!--侧边栏-->
            <div class="col s12 m4 l4">


                <div style="display: none" class="sidebar-testimonial mb-30">
                    <div class="sidebar-title center-align">
                        <h2>Hi Its Me!</h2>
                    </div>
                    <!-- /.sidebar-title -->

                    <div class="carousel carousel-slider center" data-indicators="true">
                        <div class="carousel-item">
                            <div class="item-img">
                                <span>R</span>
                            </div>
                            <h2>Rakibul Hassan</h2>
                            <small>Web Design & Development</small>
                            <p>
                                Sedut perspiciatis unde omnis iste natus errorsit voluptatem accusantium doloremque.
                            </p>
                        </div>
                        <div class="carousel-item">
                            <div class="item-img">
                                <span>O</span>
                            </div>
                            <h2>Rakibul Hassan</h2>
                            <small>Web Design & Development</small>
                            <p>
                                Sedut perspiciatis unde omnis iste natus errorsit voluptatem accusantium doloremque.
                            </p>
                        </div>
                        <div class="carousel-item">
                            <div class="item-img">
                                <span>K</span>
                            </div>
                            <h2>Rakibul Hassan</h2>
                            <small>Web Design & Development</small>
                            <p>
                                Sedut perspiciatis unde omnis iste natus errorsit voluptatem accusantium doloremque.
                            </p>
                        </div>
                        <div class="carousel-item">
                            <div class="item-img">
                                <span>I</span>
                            </div>
                            <h2>Rakibul Hassan</h2>
                            <small>Web Design & Development</small>
                            <p>
                                Sedut perspiciatis unde omnis iste natus errorsit voluptatem accusantium doloremque.
                            </p>
                        </div>
                        <div class="carousel-item">
                            <div class="item-img">
                                <span>B</span>
                            </div>
                            <h2>Rakibul Hassan</h2>
                            <small>Web Design & Development</small>
                            <p>
                                Sedut perspiciatis unde omnis iste natus errorsit voluptatem accusantium doloremque.
                            </p>
                        </div>
                    </div>
                </div>
                <!-- /.sidebar-testimonial -->



                <div class="featured-posts w100dt mb-30">
                    <div class="sidebar-title center-align">
                        <h2>Featured Posts</h2>
                    </div>
                    <!-- /.sidebar-title -->

                    <div class="sidebar-posts" id="feature">
                        <!-- /.card -->
                    </div>
                    <!-- /.sidebar-posts -->

                </div>
                <!-- /.featured-posts -->


                <div class="top-post w100dt mb-30">
                    <div class="sidebar-title center-align">
                        <h2>Top Posts</h2>
                    </div>
                    <!-- /.sidebar-title -->

                    <ul id="tabs-swipe-demo" class="top-post-tab tabs tabs-fixed-width">
                        <li class="tab"><a href="#test-swipe-1" class="active">Most Views</a></li>
                        <li class="tab"><a href="#test-swipe-2">Recent</a></li>
                        <li class="tab"><a href="#test-swipe-3">Most Like</a></li>
                    </ul>

                    <div id="test-swipe-1" class="tab-contant most-view">

                        <!-- /.sidebar-posts -->

                    </div>
                    <!-- /.most-view -->


                    <div id="test-swipe-2" class="tab-contant recent-post">




                    </div>
                    <!-- /.recent-post -->


                    <div id="test-swipe-3" class="tab-contant Comments-post">

                        <div class="card-panel grey lighten-5 z-depth-1">
                            <div class="row valign-wrapper">
                                <div class="col s3">
                                    <img src="img/img1.png" alt="Image" class="circle responsive-img">
                                    <!-- notice the "circle" class -->
                                </div>
                                <div class="col s9">
            											<span class="black-text">
            												Lorem ipsum dolor sit amet, consectetur adipisicing elit.
            											</span>
                                </div>
                            </div>
                        </div>
                        <!-- card-panel -->

                    </div>
                    <!-- /.tab-contant -->
                </div>
                <!-- /.top-post -->


            </div>
            <!--             colm4-->

        </div>
        <!-- row -->
    </div>
    <!-- container -->
</section>
<!-- /#blog-section -->
<!-- ==================== blog-section end ==================== -->




<!-- ==================== footer-section Start ==================== -->
<footer id="footer-section" class="footer-section w100dt">
    <div class="container">

        <div class="footer-logo w100dt center-align mb-30">
            <a href="#" class="brand-logo">
                <img src="img/kir.png" alt="brand-logo">
            </a>
        </div>
        <!-- /.footer-logo -->

        <ul class="footer-social-links w100dt center-align mb-30">
            <li><a href="#" class="facebook">微信</a></li>
            <li><a href="#" class="twitter">QQ</a></li>
            <li><a href="#" class="google-plus">微博</a></li>
        </ul>

        <p class="center-align">
            <i class="icofont icofont-heart-alt l-blue"></i>
            Copyright &copy; 2021 <a target="_blank" href="/"> KIT SECRET</a>
            &nbsp | &nbsp <img src="img/icp.png" style="width: 18px"> <a href="https://beian.miit.gov.cn/#/Integrated/index">粤ICP备2021073345号</a>
        </p>

    </div>
    <!-- container -->
</footer>
<!-- /#footer-section -->
<!-- ==================== footer-section End ==================== -->

<!-- my custom js -->
<script type="text/javascript" src="js/jquery-3.1.1.min.js"></script>
<script type="text/javascript" src="js/materialize.js"></script>
<script type="text/javascript" src="js/owl.carousel.min.js"></script>

<!-- my custom js -->
<script type="text/javascript" src="js/custom.js"></script>
<script type="text/javascript" src="lib/layui-v2.6.3/layui.js"></script>
<script src="js/jquery.cookie.js"></script>

<!--数据模板-->

<script id="blog" type="text/html">

    {{# for (var i = 0; i < d.length; i++){ }}

    <div class="blogs mb-30">

        <div class="card">
            <div class="card-image">
                <a href="single-blog.html?id={{d[i].id}}">
                    <img src="{{d[i].cover}}" alt="Image">
                </a>
                <a class="btn-floating center-align cmn-bgcolor halfway-fab waves-effect waves-light">
                    <i class="icofont icofont-camera-alt"></i>
                </a>
            </div>
            <!-- /.card-image -->
            <div class="card-content w100dt">
                <p>
                    <a href="#" class="tag left w100dt l-blue mb-30">{{d[i].label}}</a>
                </p>
                <a href="single-blog.html?id={{d[i].id}}" class="card-title">
                    {{d[i].title}}
                </a>
                <p class="mb-30">
                    {{d[i].sub_title}}
                </p>
                <ul class="post-mate-time left">
                    <li>
                        <p class="hero left">
                            By - <a href="personal.html?id={{d[i].authorId}}" class="l-blue">{{d[i].author_name}}</a>
                        </p>
                    </li>
                    <li>
                        <br><i class="icofont icofont-ui-calendar"></i>{{d[i].date}}

                    </li>
                </ul>

                <ul class="post-mate right" style="float: right">
                    <li class="like">
                        <a >
                            <i class="icofont icofont-heart-alt"></i> {{d[i].good}}
                        </a>
                    </li>
                    <li class="comment">
                        <a >
                            <i class="icofont icofont-comment"></i> {{d[i].view}}
                        </a>
                    </li>
                      <li class="comment">
                    <a >
                        <i class="icofont icofont-star"></i> {{d[i].collect}}
                    </a>
                </li>
                </ul>
            </div>
            <!-- /.card-content -->
        </div>


        <!-- /.card -->
    </div>

    {{# } }}

</script>
<script id="side_feature" type="text/html">
    {{# for (var i = 0; i < d.length; i++){ }}
    <div class="card">
        <div class="card-image mb-10">
            <a href="single-blog.html?id={{d[i].id}}"> <img src="{{d[i].cover}}" alt="Image"></a>
            <span class="effect"></span>
        </div>
        <!-- /.card-image -->
        <div class="card-content w100dt">
            <p>
                <a  class="tag left w100dt l-blue mb-10">{{d[i].label}}</a>
            </p>
            <a href="single-blog.html?id={{d[i].id}}" class="card-title">
                {{d[i].title}}
            </a>
            <ul class="post-mate-time left">
                <li>
                    <p class="hero left">
                        By - <a href="personal.html?id={{d[i].authorId}}" class="l-blue">{{d[i].author_name}}</a>
                    </p>
                </li>
            </ul>

            <ul class="post-mate right">
                <li class="like">

                    <i class="icofont icofont-heart-alt"></i> {{d[i].good}}

                </li>
                <li class="comment">

                    <i class="icofont icofont-comment"></i> {{d[i].view}}

                </li>
            </ul>
        </div>
        <!-- /.card-content -->
    </div>
    {{# } }}
</script>
<script id="side_order_view" type="text/html">
    <div class="sidebar-posts">
        <div class="card">
            <div class="card-image mb-10">
                <a href="single-blog.html?id={{d[0].id}}">
                    <img src="{{d[0].cover}}" alt="Image">
                </a>
                <span class="effect"></span>
            </div>
            <!-- /.card-image -->
            <div class="card-content w100dt">
                <p>
                    {{d[0].label}}
                </p>
                <a href="single-blog.html?id={{d[0].id}}" class="card-title">
                    {{d[0].title}}
                </a>
                <ul class="post-mate-time left">
                    <li>
                        <p class="hero left">
                            By - <a href="personal.html?id={{d[0].authorId}}" class="l-blue">{{d[0].author_name}}</a>
                        </p>
                    </li>
                </ul>

                <ul class="post-mate right">
                    <li class="like">

                        <i class="icofont icofont-heart-alt"></i> {{d[0].good}}

                    </li>
                    <li class="comment">

                        <i class="icofont icofont-comment"></i> {{d[0].view}}

                    </li>
                </ul>
            </div>
            <!-- /.card-content -->
        </div>
        <!-- /.card -->
        {{# for (var i = 1; i < d.length; i++){ }}
        <div class="hot-post w100dt mb-10">
            <div class="hot-post-image">
                <a href="single-blog.html?id={{d[i].id}}">
                    <img src="{{d[i].cover}}" alt="Image">
                </a>
                <span class="effect"></span>
            </div>
            <!-- /.hot-post-image -->
            <div class="hot-post-stacked">
                <p>
                    <a href="#" class="tag left w100dt l-blue mb-10">{{d[i].label}}</a>
                </p>
                <a href="single-blog.html?id={{d[i].id}}" class="sm-name mb-10">{{d[i].title}}</a>
                <div class="hot-post-action">
                    <p class="hero left">
                        BY - <a  href="personal.html?id={{d[i].authorId}}" class="l-blue">{{d[i].author_name}}</a>
                    </p>
                    <ul class="post-mate right">
                        <li class="comment">

                            <i class="icofont icofont-comment"></i> {{d[i].view}}

                        </li>
                    </ul>
                    <!-- /.post-mate -->
                </div>
                <!-- /.hot-post-action -->
            </div>
            <!-- /.hot-post-stacked -->
        </div>
        <!-- /.hot-post -->
        {{# } }}
    </div>
</script>
<script id="side_order_date" type="text/html">
    {{# for (var i = 0; i < d.length; i++){ }}
    <div class="hot-post w100dt p-15">
        <div class="hot-post-image">
            <a href="single-blog.html?id={{d[i].id}}">
                <img src="{{d[i].cover}}" alt="Image">
            </a>
            <span class="effect"></span>
        </div>
        <!-- /.hot-post-image -->
        <div class="hot-post-stacked">
            <p>
                <a href="#" class="tag left w100dt l-blue mb-10">{{d[i].label}}</a>
            </p>
            <a href="single-blog.html" class="sm-name mb-10">{{d[i].title}}</a>
            <div class="hot-post-action">
                <p class="hero left">
                    BY - <a  href="personal.html?id={{d[i].authorId}}" class="l-blue">{{d[i].author_name}}</a>
                </p>
                <br>
                <span>{{d[i].date}}</span>
                <ul class="post-mate right">
                    <li class="comment">

                        <i class="icofont icofont-comment"></i> {{d[i].view}}

                    </li>
                </ul>
                <!-- /.post-mate -->
            </div>
            <!-- /.hot-post-action -->
        </div>
        <!-- /.hot-post-stacked -->
    </div>
    {{# } }}
</script>
<script>
    // 用户信息获取
       $(document).ready(function () {
           let user = $('#user');
           if($.cookie("username")!=null){
               let username=$.cookie("username");
               user.text(username);
               user.attr("href", "personal.html?id="+$.cookie("userId"));
               let userSwitch = $('.userSwitch');
               userSwitch.addClass("showUserSwitch");
               let person=$('#person');
               person.attr("href", "personal.html?id="+$.cookie("userId"));
               person.css("display","block");

           }
           else
           user.text('~请登录~');

       });




    layui.use(['laytpl', 'laypage'], function () {
        let laytpl = layui.laytpl;
        let laypage = layui.laypage;

        //侧边栏渲染
        $.ajax({
            url: 'article/searchByCondition',
            type: 'get',
            data: {condition: 'group'},
            dataType: 'json',
            success: function (data) {
                let model = document.getElementById('side_feature').innerHTML;
                let view = document.getElementById('feature');
                laytpl(model).render(data.data, function (html) {
                    view.innerHTML = html;
                    return false;
                })
            }
        });

        $.ajax({
            url: 'article/searchByCondition',
            type: 'get',
            data: {condition: 'limit', order: 'view', limit: 3},
            dataType: 'json',
            success: function (data) {
                let model = document.getElementById('side_order_view').innerHTML;
                let view = document.getElementById('test-swipe-1');
                laytpl(model).render(data.data, function (html) {
                    view.innerHTML = html;
                    return false;
                })
            }
        });
        $.ajax({
            url: 'article/searchByCondition',
            type: 'get',
            data: {condition: 'limit', order: 'date'},
            dataType: 'json',
            success: function (data) {
                let model = document.getElementById('side_order_date').innerHTML;
                let view = document.getElementById('test-swipe-2');
                laytpl(model).render(data.data, function (html) {
                    view.innerHTML = html;
                    return false;
                })
            }
        });



        function showArticle(pageNum, pageSize) {
            $.ajax({
                url: '/article/articleList',
                type: 'get',
                data: {pageNum: pageNum, pageSize: pageSize},
                dataType: 'json',
                success: function (data) {
                    //渲染模板
                    let model = document.getElementById("blog").innerHTML;
                    let view = document.getElementById("article");
                    laytpl(model).render(data.data, function (html) {
                        view.innerHTML = html;
                        return false;
                    });

                    return false;
                }
            });
        }

        $.ajax({
            url: '/article/articleList/getTotal'
            , type: 'get'
            , dataType: 'json'
            , success: function (data) {
                laypage.render({
                    elem: 'pagination'
                    , count: data
                    , limit: 5
                    , limits: [10, 20]           //可选择的每页显示条数-->
                    , curr: 1                        //起始页-->
                    , groups: 5                      //连续页码个数-->
                    , prev: '<i class="layui-icon layui-icon-left" style="font-size: 18px; color: #1E9FFF;"></i>  '                 //上一页文本-->
                    , next: '<i class="layui-icon layui-icon-right" style="font-size: 18px; color: #1E9FFF;"></i>  '                 //下一页文本-->
                    , first: '首页'                     //首页文本-->
                    , last: '尾页'
                    , layout: ['limit', 'count', 'prev', 'page', 'next']
                    , theme:'#2962ff'
                    , jump: function (obj, first) {
                        showArticle(obj.curr, obj.limit)
                    }
                });
            }
        })

    });

</script>


</body>

</html>
